<div class="datepicker-wrapper">
    <md-input [type]="'text'" [(ngModel)]="formattedDate" (blur)="inputDateChanged()" [placeholder]="placeholder">
        <button type="button" md-icon-button md-suffix (click)="toggle()" class="datepicker-toggler"> <!-- todo stop click propagation -->
            <md-icon>event</md-icon>
        </button>
    </md-input>
    <div class="datepicker z-depth-1-half" [class.opened]="opened" [ngSwitch]="pickerMode">
        <div class="datepicker-header">
            <span class="year">{{currentDate | date:'y'}}</span><br>
            <span class="date">{{currentDate | date:'mediumDate'}}</span>
        </div>
        <yearpicker *ngSwitchCase="'year'"></yearpicker>
        <daypicker *ngSwitchDefault></daypicker>
        <div class="datepicker-footer">
            <button type="button" md-button (click)="cancel()">{{'i18n.common.action.cancel' | translate}}</button>
            <button type="button" md-button (click)="submit()">{{'i18n.common.action.ok' | translate}}</button>
        </div>
    </div>
</div>
