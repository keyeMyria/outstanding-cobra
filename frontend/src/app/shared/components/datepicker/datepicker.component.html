<div class="datepicker-wrapper">
    <md-input [type]="'text'" [(ngModel)]="formattedDate" (blur)="inputDateChanged()">
        <button md-icon-button md-suffix (click)="toggle($event)" class="datepicker-toggler"> <!-- todo stop click propagation -->
            <md-icon>event</md-icon>
        </button>
    </md-input>
    <div class="datepicker z-depth-1-half" [class.opened]="opened" [ngSwitch]="pickerMode">
        <div class="datepicker-header">
            <span class="year">{{currentDate | date:'y'}}</span><br>
            <span class="date">{{currentDate | date:'E d MMM'}}</span>
        </div>
        <yearpicker *ngSwitchCase="'year'"></yearpicker>
        <daypicker *ngSwitchDefault></daypicker>
        <div class="datepicker-footer">
            <button md-button (click)="cancel()">Cancel</button>
            <button md-button (click)="submit()">OK</button>
        </div>
    </div>
</div>
