<div class="dialog-header">
    <h1 md-dialog-title>{{'i18n.modules.manage.semester.add' | translate}}</h1>
</div>
<form [formGroup]="semesterForm" (submit)="onSubmit()">
    <div class="dialog-body" md-dialog-content>
        <div class="form-group">
            <md-input-container>
                <input mdInput [autofocus]="false"
                       [placeholder]="'i18n.modules.manage.semester.form.label' | translate" formControlName="name">
                <md-hint class="form-error" align="start"
                         *ngIf="semesterForm.get('name').invalid && semesterForm.get('name').touched">
                    <template [ngIf]="semesterForm.get('name').hasError('required')">
                        {{'i18n.common.form.error.required' | translate}}
                    </template>
                </md-hint>
            </md-input-container>
        </div>
        <div class="form-group">
            <datepicker formControlName="validFrom" [placeholder]="'i18n.common.label.validFrom' | translate"
                        [minDate]="parent.validFrom">
                <md-hint class="form-error"
                         *ngIf="semesterForm.get('validFrom').invalid && semesterForm.get('validFrom').touched">
                    <template [ngIf]="semesterForm.get('validFrom').hasError('required')">
                        {{'i18n.common.form.error.required' | translate}}
                    </template>
                    <template [ngIf]="semesterForm.get('validFrom').hasError('isAfterDay')">{{getErrorText('validFrom',
                        'isAfterDay', 'afterDate')}}
                    </template>
                </md-hint>
            </datepicker>

        </div>
        <div class="form-group">
            <datepicker formControlName="validTo" [placeholder]="'i18n.common.label.validTo' | translate"
                        [maxDate]="parent.validTo">
                <md-hint class="form-error"
                         *ngIf="semesterForm.get('validTo').invalid && semesterForm.get('validTo').touched">
                    <template [ngIf]="semesterForm.get('validTo').hasError('required')">
                        {{'i18n.common.form.error.required' | translate}}
                    </template>
                    <template [ngIf]="semesterForm.get('validTo').hasError('isBeforeDay')">{{getErrorText('validTo',
                        'isBeforeDay', 'beforeDate')}}
                    </template>
                </md-hint>
            </datepicker>
        </div>
        <div class="form-error"
             *ngIf="semesterForm.invalid && semesterForm.touched && semesterForm.get('validFrom').touched && semesterForm.get('validTo').touched">
            <span *ngIf="semesterForm.hasError('dateToIsBeforeDateFrom')">{{'i18n.common.form.error.dateToIsBeforeDateFrom' | translate}}</span>
        </div>
    </div>
    <div class="dialog-footer" md-dialog-actions>
        <div class="footer-right">
            <button md-button (click)="onCancel()" type="button">{{'i18n.common.action.cancel' | translate}}</button>
            <button md-raised-button color="primary" type="submit">{{'i18n.common.action.save' | translate}}</button>
        </div>
    </div>
</form>
